{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nvar BASE_URL_ENDPOINT = \"http://www.omdbapi.com/?apikey=5fb20880\";\nexport function getMovieDetails(movieID) {\n  var movieDetails;\n  return _regeneratorRuntime.async(function getMovieDetails$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios.get(BASE_URL_ENDPOINT + \"&i=\" + movieID));\n\n        case 2:\n          movieDetails = _context.sent;\n          return _context.abrupt(\"return\", movieDetails);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function getTotalPages(movieName) {\n  var pages;\n  fetch(BASE_URL_ENDPOINT + \"&s=\" + movieName + \"&page=1\").then(function (resp) {\n    return resp.json();\n  }).then(function (data) {\n    pages = data.Search;\n  });\n  return JSON.stringify(pages);\n}\nexport function getMovies(movieName) {\n  var movie_poster, pages, page;\n  return _regeneratorRuntime.async(function getMovies$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          movie_poster = [];\n          pages = 15;\n\n          for (page = 1; page <= pages; page++) {\n            fetch(BASE_URL_ENDPOINT + \"&s=\" + movieName + \"&page=\" + page).then(function (resp) {\n              return resp.json();\n            }).then(function (data) {\n              movie_poster.push(data.Search);\n            });\n          }\n\n          return _context2.abrupt(\"return\", movie_poster);\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["/Users/ashwininagaraj/MoviesInventory/apis/api.js"],"names":["axios","BASE_URL_ENDPOINT","getMovieDetails","movieID","get","movieDetails","getTotalPages","movieName","pages","fetch","then","resp","json","data","Search","JSON","stringify","getMovies","movie_poster","page","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,iBAAiB,GAAG,yCAA1B;AAOA,OAAQ,SAAeC,eAAf,CAA+BC,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACuBH,KAAK,CAACI,GAAN,CAAaH,iBAAb,WAAoCE,OAApC,CADvB;;AAAA;AACEE,UAAAA,YADF;AAAA,2CAEGA,YAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKR,OAAO,SAASC,aAAT,CAAuBC,SAAvB,EAAkC;AACvC,MAAIC,KAAJ;AACAC,EAAAA,KAAK,CAAIR,iBAAJ,WAA2BM,SAA3B,aAAL,CAAoDG,IAApD,CAAyD,UAASC,IAAT,EAAc;AACnE,WAAOA,IAAI,CAACC,IAAL,EAAP;AACH,GAFD,EAGCF,IAHD,CAGM,UAASG,IAAT,EAAc;AAChBL,IAAAA,KAAK,GAAGK,IAAI,CAACC,MAAb;AACH,GALD;AAMA,SAAOC,IAAI,CAACC,SAAL,CAAeR,KAAf,CAAP;AACD;AAED,OAAQ,SAAeS,SAAf,CAAyBV,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACFW,UAAAA,YADE,GACa,EADb;AAEFV,UAAAA,KAFE,GAEM,EAFN;;AAGN,eAAQW,IAAR,GAAa,CAAb,EAAgBA,IAAI,IAAEX,KAAtB,EAA4BW,IAAI,EAAhC,EACA;AACAV,YAAAA,KAAK,CAAIR,iBAAJ,WAA2BM,SAA3B,cAA6CY,IAA7C,CAAL,CAA0DT,IAA1D,CAA+D,UAASC,IAAT,EAAc;AACzE,qBAAOA,IAAI,CAACC,IAAL,EAAP;AACH,aAFD,EAGCF,IAHD,CAGM,UAASG,IAAT,EAAc;AAChBK,cAAAA,YAAY,CAACE,IAAb,CAAkBP,IAAI,CAACC,MAAvB;AACH,aALD;AAMD;;AAXO,4CAYCI,YAZD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL_ENDPOINT = \"http://www.omdbapi.com/?apikey=5fb20880\";\n\n// export  async function getMovies(movieName) {\n//   const movies = await axios.get(`${BASE_URL_ENDPOINT}&s=${movieName}`);\n//   return movies;\n// }\n\nexport  async function getMovieDetails(movieID) {\n    const movieDetails = await axios.get(`${BASE_URL_ENDPOINT}&i=${movieID}`);\n    return movieDetails;\n}\n\nexport function getTotalPages(movieName) {\n  let pages;\n  fetch(`${BASE_URL_ENDPOINT}&s=${movieName}&page=1`).then(function(resp){\n      return resp.json()\n  })\n  .then(function(data){\n      pages = data.Search;   \n  });\n  return JSON.stringify(pages);\n}\n\nexport  async function getMovies(movieName) {\n  let movie_poster = [];\n  let pages = 15\n  for(let page=1; page<=pages;page++)\n  {\n  fetch(`${BASE_URL_ENDPOINT}&s=${movieName}&page=${page}`).then(function(resp){\n      return resp.json()\n  })\n  .then(function(data){      \n      movie_poster.push(data.Search);\n  });\n}\n  return movie_poster;\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}