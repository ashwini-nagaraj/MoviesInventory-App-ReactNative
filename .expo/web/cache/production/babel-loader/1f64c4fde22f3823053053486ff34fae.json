{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import FlatList from\"react-native-web/dist/exports/FlatList\";import React,{useState}from'react';import{Feather}from'@expo/vector-icons';import{getMovies,getMovieDetails}from\"../apis/api\";import APP_BANNER from\"../assets/images/istockphoto-1191001701-612x612.jpeg\";import ErrorScreen from\"./error-screen\";import{useNavigation}from'@react-navigation/native';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState({placeholder:\"Enter a movie\",results:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var navigation=useNavigation();function fetchMovies(paramMovieName){var _await$getMovies,data,results;return _regeneratorRuntime.async(function fetchMovies$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(getMovies(paramMovieName));case 2:_await$getMovies=_context.sent;data=_await$getMovies.data;results=data.Search;setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{results:results});});case 6:case\"end\":return _context.stop();}}},null,null,null,Promise);}function fetchMovieDetails(movie,id){var _await$getMovieDetail,data;return _regeneratorRuntime.async(function fetchMovieDetails$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(getMovieDetails(id));case 2:_await$getMovieDetail=_context2.sent;data=_await$getMovieDetail.data;navigation.navigate('Movie Description',{movie:movie,data:data,onGoBack:function onGoBack(){return refresh();}});case 5:case\"end\":return _context2.stop();}}},null,null,null,Promise);}return _jsxs(ScrollView,{style:{backgroundColor:'#000'},blurRadius:100,children:[_jsx(View,{style:_objectSpread(_objectSpread({},StyleSheet.absoluteFill),{},{backgroundColor:'#000'})}),_jsxs(View,{style:{marginHorizontal:14},children:[_jsx(ImageBackground,{style:{height:350,width:'100%',backgroundColor:'000'},resizeMode:\"cover\",source:{uri:APP_BANNER},children:_jsxs(View,{style:styles.SearchboxContainer,children:[_jsx(TextInput,{value:state.placeholder,placeholderTextColor:\"#666\",style:styles.Searchbox,onChangeText:function onChangeText(text){return setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{placeholder:text});});},onSubmitEditing:function onSubmitEditing(){return fetchMovies(state.placeholder);},onFocus:function onFocus(){return setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{placeholder:''});});},onBlur:function onBlur(){return setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{placeholder:state.placeholder});});}}),_jsx(Feather,{name:\"search\",size:22,color:\"#666\",style:styles.SearchboxIcon})]})}),\" x\",state.results?_jsx(FlatList,{style:{marginBottom:10,marginTop:40},horizontal:true,data:state.results,renderItem:function renderItem(_ref){var item=_ref.item;return item.Poster!=='N/A'&&_jsxs(TouchableOpacity,{style:{marginRight:20},onPress:function onPress(){return fetchMovieDetails(item,item.imdbID);},children:[_jsx(Image,{source:{uri:item.Poster},style:{height:300,width:200}}),_jsx(View,{style:{position:\"absolute\",height:5,width:'100%',opacity:0.8}})]},item.imdbID);}}):_jsx(ErrorScreen,{})]})]});}var styles=StyleSheet.create({SearchboxContainer:{flexDirection:'row',marginVertical:20,width:'50%',alignSelf:'center',backgroundColor:'#fff',elevation:10,borderRadius:4},Searchbox:{padding:12,paddingLeft:20,fontSize:16,width:'100%'},SearchboxIcon:{position:'absolute',right:20,top:14}});","map":{"version":3,"sources":["/Users/ashwininagaraj/MoviesInventory/screens/home.js"],"names":["React","useState","Feather","getMovies","getMovieDetails","APP_BANNER","ErrorScreen","useNavigation","Home","placeholder","results","state","setState","navigation","fetchMovies","paramMovieName","data","Search","prevState","fetchMovieDetails","movie","id","navigate","onGoBack","refresh","backgroundColor","StyleSheet","absoluteFill","marginHorizontal","height","width","uri","styles","SearchboxContainer","Searchbox","text","SearchboxIcon","marginBottom","marginTop","item","Poster","marginRight","imdbID","position","opacity","create","flexDirection","marginVertical","alignSelf","elevation","borderRadius","padding","paddingLeft","fontSize","right","top"],"mappings":"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","sourcesContent":["import { StyleSheet, View, TextInput,ScrollView, Image,TouchableOpacity, ImageBackground, FlatList} from 'react-native';\nimport React, {useState} from 'react';\nimport {  Feather } from '@expo/vector-icons'\nimport {getMovies, getMovieDetails} from '../apis/api';\nimport APP_BANNER from '../assets/images/istockphoto-1191001701-612x612.jpeg';\nimport ErrorScreen from './error-screen';\nimport { useNavigation } from '@react-navigation/native';\n\nexport default function Home() {\n  const [state, setState] = useState({\n    placeholder:\"Enter a movie\",\n    results:[]\n  });\n  const navigation = useNavigation();\n\n  async function fetchMovies(paramMovieName) {\n    const { data } = await getMovies(paramMovieName);\n    let results= data.Search;\n    setState(prevState => {\n      return {...prevState, results:results}\n    });\n  }\n\n  async function fetchMovieDetails(movie, id){   \n    const { data } = await getMovieDetails(id);\n    navigation.navigate('Movie Description', {movie, data,\n      onGoBack: () => refresh(),\n    });\n  }\n\n  return (\n    <ScrollView style={{backgroundColor: '#000'}} blurRadius={100}>\n       <View  style={{...StyleSheet.absoluteFill, backgroundColor: '#000'}}>\n       </View> \n       <View style={{marginHorizontal: 14}}>\n        <ImageBackground\n        style={{height: 350, width: '100%', backgroundColor: '000'}}\n        resizeMode='cover'\n        source={{uri:APP_BANNER}}\n        >\n          <View style={styles.SearchboxContainer}>\n             <TextInput\n                value={state.placeholder}\n                placeholderTextColor='#666'\n                style={styles.Searchbox}\n                onChangeText={text=> setState(prevState => {\n                  return {...prevState, placeholder:text}\n                })}\n                onSubmitEditing={()=>fetchMovies(state.placeholder)}\n                onFocus= {() => setState(prevState => {\n                  return {...prevState, placeholder:''}\n                })}\n                onBlur={() => setState(prevState => {\n                  return {...prevState, placeholder: state.placeholder}\n                })}\n                />\n              < Feather name='search' size={22} color='#666' style={styles.SearchboxIcon} /> \n              </View>\n        </ImageBackground> x\n        \n        {state.results ? (\n        <FlatList \n        style={{marginBottom: 10, marginTop: 40}}\n        horizontal={true}\n        data={state.results}\n        renderItem={( {item} ) => ( item.Poster!=='N/A' && (\n            <TouchableOpacity style={{marginRight: 20}} key={item.imdbID} onPress={()=> fetchMovieDetails(item, item.imdbID)}>\n              <Image source={{uri: item.Poster}} style={{height: 300, width: 200}} />\n              <View style={{position: \"absolute\", height: 5, width: '100%',opacity: 0.8}}></View>\n            </TouchableOpacity>\n        ))}\n        />\n        ) : (<ErrorScreen/>)}\n    </View>\n    </ScrollView> \n  );\n}\n\nconst styles = StyleSheet.create({\nSearchboxContainer: {\n    flexDirection: 'row',\n    marginVertical: 20, \n    width: '50%',\n    alignSelf: 'center', \n    backgroundColor: '#fff', \n    elevation: 10,\n    borderRadius: 4,\n  },\n  Searchbox: {\n    padding: 12,\n    paddingLeft: 20,\n    fontSize: 16,\n    width: '100%'\n  },\n  SearchboxIcon: {\n    position: 'absolute', \n    right: 20, \n    top: 14\n  }\n});\n"]},"metadata":{},"sourceType":"module"}